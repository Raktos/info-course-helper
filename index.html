<!DOCTYPE html>
<html>
    <head lang="en">
        <meta charset="UTF-8">
        <title>iSchool Course Helper</title>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="css/main.css">

        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.0-rc.2/angular.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.11.2/ui-bootstrap-tpls.min.js"></script>
    </head>
    <body ng-app="CoursesApp" ng-controller="CoursesController">
    <header>
        <h1>Informatics Course Helper</h1>
        <p class="lead">Easier to view classes</p>

    </header>


    <!--TODO fix nav to viewport on scroll-->
    <nav class="quarterSelectors">

        <div class="btn-group">
            <button type="button"  class="btn-quarterSelect"
                    ng-click="sortBy('autumn')" ng-class="" >Autumn</button>
            <button type="button"  class="btn-quarterSelect"
                    ng-click="sortBy('winter')" ng-class="" >Winter</button>
            <button type="button"  class="btn-quarterSelect"
                    ng-click="sortBy('spring')" ng-class="" >Spring</button>
            <button type="button"  class="btn-quarterSelect"
                    ng-click="sortBy('summer')" ng-class="" >Summer</button>
        </div>
    </nav>
    <div class="nav-placeholder"></div>


    <main ng-if="!loading">

        <div class="search">
            <div class="container-search">
                <span class="icon"><i class="fa fa-search"></i></span>
                <input type="text" class="searchBox" id="search" ng-model="searchString" placeholder="Search..." />
            </div>
        </div>


        <div class="courseCategory" ng-repeat="category in coursesAll | filter : searchString ">
            <h2>{{category.category}}</h2>
            <div class="courseBlock" ng-repeat="course in category.coursesFiltered">
                <!--TODO Junior vs Senior year recommendation-->
                <!--TODO sorting by quarter-->

                <h3 class="courseTitle">{{course.school}} {{course.number}} - {{course.title}}</h3>

                <div class="courseQuarters">
                    <img ng-if="course.autumn" src="img/autumn.png" alt="autumn"/>
                    <img ng-if="!course.autumn" src="img/blank.png" alt="autumn"/>

                    <img ng-if="course.winter" src="img/winter.png" alt="winter"/>
                    <img ng-if="!course.winter" src="img/blank.png" alt="winter"/>

                    <img ng-if="course.spring" src="img/spring.png" alt="spring"/>
                    <img ng-if="!course.spring" src="img/blank.png" alt="spring"/>

                    <img ng-if="course.summer" src="img/summer.png" alt="summer"/>
                    <img ng-if="!course.summer" src="img/blank.png" alt="summer"/>
                </div>

                <p class="courseCredits">({{course.credits}} credits) {{course.genre}}</p>

                <div class="slider" ng-class="{expanded: course.expanded}">
                    <p class="courseInfo">{{course.description}}</p>

                    <a href="https://uwstudent.washington.edu/student/myplan/course/{{course.courseSchool}}{{course.courseNumber}}">View in MyPlan</a>

                    <div class="coursePreReqs" ng-if="course.prerequisite">
                        <p>Requires: {{course.prerequisite}}</p>
                    </div>

                    <!--TODO user comments-->
                </div>

                <img class="arrow" src="img/autumn.png" alt="" ng-click="expandSection(course)"/>
            </div>
        </div>

        <!--TODO back to top-->
    </main>
    <!--TODO loading gif-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="js/app.js"></script>
    </body>
</html>
